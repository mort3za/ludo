(function(e){function t(t){for(var r,a,o=t[0],u=t[1],c=t[2],l=0,d=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==i[o]&&(r=!1)}r&&(s.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={app:0},i={app:0},s=[];function o(e){return u.p+"js/"+({about:"about"}[e]||e)+"."+{about:"bf66260e"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={about:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({about:"about"}[e]||e)+"."+{about:"b66098e1"}[e]+".css",i=u.p+r,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var c=s[o],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===r||l===i))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){c=d[o],l=c.getAttribute("data-href");if(l===r||l===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||i,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete a[e],p.parentNode.removeChild(p),n(s)},p.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){a[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=s);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=o(e);var d=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}i[e]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/ludo/",u.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var p=l;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"02ca":function(e,t,n){},"30a7":function(e,t,n){"use strict";var r=n("9e8b"),a=n.n(r);a.a},"32f2":function(e,t,n){"use strict";var r=n("90be"),a=n.n(r);a.a},4789:function(e,t,n){},"5c0b":function(e,t,n){"use strict";var r=n("9c0c"),a=n.n(r);a.a},"5ffe":function(e,t,n){"use strict";var r=n("71c3"),a=n.n(r);a.a},6227:function(e,t,n){},"666e":function(e,t,n){"use strict";var r=n("d2d2"),a=n.n(r);a.a},"71c3":function(e,t,n){},8700:function(e,t,n){"use strict";var r=n("6227"),a=n.n(r);a.a},"90be":function(e,t,n){},"9c0c":function(e,t,n){},"9e8b":function(e,t,n){},a3cb:function(e,t,n){"use strict";var r=n("b2af"),a=n.n(r);a.a},ab5a:function(e,t,n){"use strict";var r=n("4789"),a=n.n(r);a.a},b2af:function(e,t,n){},c3dc:function(e,t,n){"use strict";var r=n("02ca"),a=n.n(r);a.a},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r,a,i,s,o,u,c=n("2b0e"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},d=[],p=n("d4ec"),f=n("99de"),m=n("7e84"),b=n("262e"),h=n("60a3"),v=Object(h["a"])(r=function(e){function t(){return Object(p["a"])(this,t),Object(f["a"])(this,Object(m["a"])(t).apply(this,arguments))}return Object(b["a"])(t,e),t}(h["c"]))||r,y=v,g=(n("5c0b"),n("2877")),O=Object(g["a"])(y,l,d,!1,null,null,null),w=O.exports,N=(n("d3b7"),n("8c4f")),I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper d-flex justify-content-center align-items-center overflow-auto flex-column"},[n("div",{staticClass:"inner w-100 rounded mx-auto d-flex justify-content-center align-items-center"},[n("div",{staticClass:"d-flex flex-column justify-content-center align-items-center p-3 w-100"},[e._m(0),n("div",{staticClass:"nav d-flex flex-column justify-content-center align-items-center w-100 mt-4"},[n("router-link",{staticClass:"btn btn-lg w-75 btn-primary mb-3 font-weight-bolder rounded-pill shadow-sm",attrs:{to:"/play"}},[e._v("Play")]),n("router-link",{staticClass:"btn btn-lg w-75 btn-secondary mb-3 font-weight-normal rounded-pill shadow-sm",attrs:{to:"/about"}},[e._v("About")])],1)])]),n("footer",{staticClass:"text-center footer"},[n("small",{staticClass:"text-dark d-block version",on:{click:function(t){e.showBuildInfo=!e.showBuildInfo}}},[e._v("version: "+e._s(e.appVersion))]),e.showBuildInfo?n("small",{staticClass:"text-dark d-block"},[e._v(e._s(e.appVersionTitle))]):e._e(),n("small",[e.showBuildInfo?n("a",{staticClass:"text-dark d-block",attrs:{target:"_blank",href:"https://github.com/mort3za/ludo/releases"}},[e._v("See Changes")]):e._e()])])])},E=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",{staticClass:"h1 title d-flex align-items-center font-weight-light"},[n("span",[e._v("Ludo Game")])])}],k=(n("99af"),n("bee2")),S=n("9ab4"),M=(n("c975"),n("2f62")),C=n("bfa9"),A=(n("4de4"),n("7db0"),n("c740"),n("caad"),n("2532"),n("2909"));(function(e){e[e["BENCH"]=0]="BENCH",e[e["COMMON"]=1]="COMMON",e[e["STARTPOINT"]=2]="STARTPOINT",e[e["ENDPOINT"]=3]="ENDPOINT",e[e["BENCH_DONE"]=4]="BENCH_DONE",e[e["SAFEZONE"]=5]="SAFEZONE",e[e["FINAL"]=6]="FINAL"})(a||(a={})),function(e){e[e["ROW"]=0]="ROW",e[e["COLUMN"]=1]="COLUMN",e[e["SIDE"]=2]="SIDE",e[e["STEP_TYPE"]=3]="STEP_TYPE"}(i||(i={})),function(e){e[e["BENCH"]=0]="BENCH",e[e["IN_GAME"]=2]="IN_GAME"}(s||(s={})),function(e){e[e["NOT_STARTED"]=0]="NOT_STARTED",e[e["PLAYING"]=1]="PLAYING",e[e["PAUSED"]=2]="PAUSED",e[e["GAME_OVER"]=3]="GAME_OVER"}(o||(o={})),function(e){e[e["INITIALIZING"]=0]="INITIALIZING",e[e["WAITING_TURN_DICE"]=1]="WAITING_TURN_DICE",e[e["TURNING_DICE"]=2]="TURNING_DICE",e[e["PLAYER_IS_THINKING"]=3]="PLAYER_IS_THINKING",e[e["MOVING_MARBLES"]=4]="MOVING_MARBLES",e[e["PAUSED"]=5]="PAUSED",e[e["FINISHED"]=6]="FINISHED"}(u||(u={}));var x=[[10,1,1,[a.BENCH]],[10,2,1,[a.BENCH]],[11,1,1,[a.BENCH]],[11,2,1,[a.BENCH]],[11,5,1,[a.COMMON,a.STARTPOINT,a.SAFEZONE]],[10,5,1,[a.COMMON]],[9,5,1,[a.COMMON]],[8,5,1,[a.COMMON]],[7,5,1,[a.COMMON]],[7,4,1,[a.COMMON]],[7,3,1,[a.COMMON]],[7,2,1,[a.COMMON]],[7,1,1,[a.COMMON]],[6,1,1,[a.COMMON]],[10,6,1,[a.ENDPOINT]],[9,6,1,[a.ENDPOINT]],[8,6,1,[a.ENDPOINT]],[7,6,1,[a.ENDPOINT]],[1,1,2,[a.BENCH]],[1,2,2,[a.BENCH]],[2,1,2,[a.BENCH]],[2,2,2,[a.BENCH]],[5,1,2,[a.COMMON,a.STARTPOINT,a.SAFEZONE]],[5,2,2,[a.COMMON]],[5,3,2,[a.COMMON]],[5,4,2,[a.COMMON]],[5,5,2,[a.COMMON]],[4,5,2,[a.COMMON]],[3,5,2,[a.COMMON]],[2,5,2,[a.COMMON]],[1,5,2,[a.COMMON]],[1,6,2,[a.COMMON]],[6,2,2,[a.ENDPOINT]],[6,3,2,[a.ENDPOINT]],[6,4,2,[a.ENDPOINT]],[6,5,2,[a.ENDPOINT]],[1,10,3,[a.BENCH]],[1,11,3,[a.BENCH]],[2,10,3,[a.BENCH]],[2,11,3,[a.BENCH]],[1,7,3,[a.COMMON,a.STARTPOINT,a.SAFEZONE]],[2,7,3,[a.COMMON]],[3,7,3,[a.COMMON]],[4,7,3,[a.COMMON]],[5,7,3,[a.COMMON]],[5,8,3,[a.COMMON]],[5,9,3,[a.COMMON]],[5,10,3,[a.COMMON]],[5,11,3,[a.COMMON]],[6,11,3,[a.COMMON]],[2,6,3,[a.ENDPOINT]],[3,6,3,[a.ENDPOINT]],[4,6,3,[a.ENDPOINT]],[5,6,3,[a.ENDPOINT]],[10,10,4,[a.BENCH]],[10,11,4,[a.BENCH]],[11,10,4,[a.BENCH]],[11,11,4,[a.BENCH]],[7,11,4,[a.COMMON,a.STARTPOINT,a.SAFEZONE]],[7,10,4,[a.COMMON]],[7,9,4,[a.COMMON]],[7,8,4,[a.COMMON]],[7,7,4,[a.COMMON]],[8,7,4,[a.COMMON]],[9,7,4,[a.COMMON]],[10,7,4,[a.COMMON]],[11,7,4,[a.COMMON]],[11,6,4,[a.COMMON]],[6,10,4,[a.ENDPOINT]],[6,9,4,[a.ENDPOINT]],[6,8,4,[a.ENDPOINT]],[6,7,4,[a.ENDPOINT]],[6,6,0,[a.FINAL,a.SAFEZONE]]],j=(n("a4d3"),n("e01a"),n("d28b"),n("45fc"),n("3ca3"),n("ddb0"),n("96cf"),n("1da1")),P=n("5530"),_=n("e30e"),T=n.n(_);n("fb6a");function R(e,t,n){var r=Me.getters["steps/allPaths"](n),a=r.findIndex((function(t){return L(F(t),e)})),i=r.findIndex((function(e){return L(F(e),t)}));return i-a}function G(e){var t=e.from,n=e.amount,r=e.player,a=Me.getters["steps/allPaths"](r),s=a.findIndex((function(e){return e[i.ROW]===t.row&&e[i.COLUMN]===t.column}));if(a.length>=s+n){var o=a[s+n];return F(o)}throw Error("Out of path range")}function D(e){var t=Me.getters["steps/allPaths"]({side:e.marble.side}),n=t.findIndex((function(t){return L(F(t),e.from)})),r=t.findIndex((function(t){return L(F(t),e.to)}));return t.slice(n+1,r+1)}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.text?T()(Object(P["a"])({className:"shadow",text:"",duration:6e5,close:!1,gravity:"bottom",position:"left",backgroundColor:"white",stopOnFocus:!0},e)).showToast():console.log("No text")}function L(e,t){return e.row===t.row&&e.column===t.column}function W(e,t){return L(F(e),F(t))}function F(e){return{row:e[i.ROW],column:e[i.COLUMN]}}function H(e){return{row:e.row,column:e.column}}function U(e){var t=H(e);return Y(t)}function Y(e){var t=Me.getters["steps/getStepByPosition"](e);return t}function $(e){return e.isInGame?s.IN_GAME:s.BENCH}function V(e){var t,n=e.player,r=e.marble,a=e.diceInfo,i=$(r),o=H(r);return t=i===s.BENCH?G({from:o,amount:1,player:n}):G({from:o,amount:a.value,player:n}),{marble:r,type:i,from:o,to:t}}function Z(e){return z.apply(this,arguments)}function z(){return z=Object(j["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout((function(){e()}),t)})));case 1:case"end":return e.stop()}}),e)}))),z.apply(this,arguments)}function q(e,t){var n=Me.getters["steps/sideEndpoints"](t);return n.some((function(t){return L(e,F(t))}))}function K(e){var t=F(Me.getters["steps/finalStep"]);return L(e,t)}function J(e,t){return Q.apply(this,arguments)}function Q(){return Q=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=q(H(t),n),e.next=3,Me.dispatch("marbles/update",Object(P["a"])({},t,{isAtEnd:r}));case 3:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function X(e){return ee.apply(this,arguments)}function ee(){return ee=Object(j["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=K(H(t)),!n){e.next=3;break}return e.abrupt("return",Me.dispatch("marbles/updateSomeProps",{marble:t,props:{isAtFinal:n}}));case 3:return e.abrupt("return",Promise.resolve());case 4:case"end":return e.stop()}}),e)}))),ee.apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return ne=Object(j["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),ne.apply(this,arguments)}function re(e,t){var n=Me.getters["marbles/listOtherPlayersMarblesByPosition"](e,t),r=Me.getters["settings/gamePlay"];return n.filter((function(e){var t=U(e),n=!1;return r.isSafezonesEnabled&&(n=n||t[i.STEP_TYPE].includes(a.SAFEZONE)),n=n||t[i.STEP_TYPE].includes(a.FINAL),!n}))}function ae(e,t){return ie.apply(this,arguments)}function ie(){return ie=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,i,s,o,u,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=re(n,H(t)),a=!0,i=!1,s=void 0,e.prev=4,o=r[Symbol.iterator]();case 6:if(a=(u=o.next()).done){e.next=14;break}return c=u.value,l=se(c),e.next=11,Me.dispatch("marbles/update",l);case 11:a=!0,e.next=6;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e["catch"](4),i=!0,s=e.t0;case 20:e.prev=20,e.prev=21,a||null==o.return||o.return();case 23:if(e.prev=23,!i){e.next=26;break}throw s;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}}),e,null,[[4,16,20,28],[21,,23,27]])}))),ie.apply(this,arguments)}function se(e){var t=Me.getters["marbles/listInitial"];return t.find((function(t){return e.id===t.id}))}var oe={namespaced:!0,state:{list:x},mutations:{update:function(e,t){var n=e.list.findIndex((function(e){return L(F(e),F(t))}));c["a"].set(e.list,n,t)}},actions:{update:function(e,t){var n=e.commit;n("update",t)},updateSomeProps:function(e,t){var n=e.commit,r=e.state,a=t.step,s=t.setType,o=r.list.findIndex((function(e){return W(e,a)})),u=[].concat(Object(A["a"])(r.list[o][i.STEP_TYPE]),[s]),c=Object(A["a"])(r.list[o]);c[i.STEP_TYPE]=u,n("update",c)}},getters:{getStepByPosition:function(e){return function(t){return e.list.find((function(e){return e[i.ROW]===t.row&&e[i.COLUMN]===t.column}))}},allBenchs:function(e){return e.list.filter((function(e){return e[i.STEP_TYPE].includes(a.BENCH)}))},sideBenchs:function(e){return function(t){var n=t.side;return e.list.filter((function(e){return e[i.SIDE]===n&&e[i.STEP_TYPE].includes(a.BENCH)}))}},sideCommons:function(e){return function(t){var n=t.side;return e.list.filter((function(e){return e[i.SIDE]===n&&e[i.STEP_TYPE].includes(a.COMMON)}))}},sideEndpoints:function(e){return function(t){var n=t.side;return e.list.filter((function(e){return e[i.SIDE]===n&&e[i.STEP_TYPE].includes(a.ENDPOINT)}))}},sideStartpoint:function(e){return function(t){var n=t.side;return e.list.find((function(e){return e[i.SIDE]===n&&e[i.STEP_TYPE].includes(a.STARTPOINT)}))}},sideSteps:function(e,t){return function(e){var n=e.side;return[].concat(Object(A["a"])(t.sideCommons({side:n})),Object(A["a"])(t.sideEndpoints({side:n})))}},finalStep:function(e){return e.list.find((function(e){return e[i.STEP_TYPE].includes(a.FINAL)}))},allSteps:function(e,t){return[].concat(Object(A["a"])(t.allBenchs),Object(A["a"])(t.sideSteps({side:1})),Object(A["a"])(t.sideSteps({side:2})),Object(A["a"])(t.sideSteps({side:3})),Object(A["a"])(t.sideSteps({side:4})),[t.finalStep])},allPaths:function(e,t){return function(e){var n=e.side;switch(n){case 1:return[].concat(Object(A["a"])(t.sideCommons({side:1})),Object(A["a"])(t.sideCommons({side:2})),Object(A["a"])(t.sideCommons({side:3})),Object(A["a"])(t.sideCommons({side:4})),Object(A["a"])(t.sideEndpoints({side:1})),[t.finalStep]);case 2:return[].concat(Object(A["a"])(t.sideCommons({side:2})),Object(A["a"])(t.sideCommons({side:3})),Object(A["a"])(t.sideCommons({side:4})),Object(A["a"])(t.sideCommons({side:1})),Object(A["a"])(t.sideEndpoints({side:2})),[t.finalStep]);case 3:return[].concat(Object(A["a"])(t.sideCommons({side:3})),Object(A["a"])(t.sideCommons({side:4})),Object(A["a"])(t.sideCommons({side:1})),Object(A["a"])(t.sideCommons({side:2})),Object(A["a"])(t.sideEndpoints({side:3})),[t.finalStep]);case 4:return[].concat(Object(A["a"])(t.sideCommons({side:4})),Object(A["a"])(t.sideCommons({side:1})),Object(A["a"])(t.sideCommons({side:2})),Object(A["a"])(t.sideCommons({side:3})),Object(A["a"])(t.sideEndpoints({side:4})),[t.finalStep])}}}}},ue={namespaced:!0,state:{list:[]},mutations:{update:function(e,t){var n=e.list.findIndex((function(e){return e.id===t.id}));c["a"].set(e.list,n,t)},setList:function(e,t){c["a"].set(e,"list",t)},add:function(e,t){e.list.push(t)}},actions:{remove:function(e){var t=e.commit;t("setList",[])},update:function(e,t){var n=e.commit;n("update",t)},add:function(e,t){var n=e.commit,r=e.getters,a=r.list.length,i=Object(P["a"])({id:a+1,side:a+1,name:"Player ".concat(a+1)},t);n("add",i)}},getters:{list:function(e){return e.list},itemById:function(e){return function(t){return e.list.find((function(e){return e.id===t}))}},itemBySide:function(e){return function(t){return e.list.find((function(e){return e.side===t}))}},listInGame:function(e){return e.list.filter((function(e){return e.isInGame}))},indexInListById:function(e){return function(t){return e.list.findIndex((function(e){return e.id===t}))}}}},ce=(n("a623"),n("4160"),n("159b"),[{id:1,row:11,column:1,side:1,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1},{id:2,row:11,column:2,side:1,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1},{id:3,row:10,column:1,side:1,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1},{id:4,row:10,column:2,side:1,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1},{id:5,row:1,column:1,side:2,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1},{id:6,row:1,column:2,side:2,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1},{id:7,row:2,column:1,side:2,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1},{id:8,row:2,column:2,side:2,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1},{id:9,row:1,column:10,side:3,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1},{id:10,row:1,column:11,side:3,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1},{id:11,row:2,column:10,side:3,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1},{id:12,row:2,column:11,side:3,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1},{id:13,row:10,column:10,side:4,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1},{id:14,row:10,column:11,side:4,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1},{id:15,row:11,column:10,side:4,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1},{id:16,row:11,column:11,side:4,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1}]);function le(e,t){return e.findIndex((function(e){return e.id===t}))}var de={namespaced:!0,state:{list:[],listInitial:ce},mutations:{update:function(e,t){var n=e.list.findIndex((function(e){return e.id===t.id}));c["a"].set(e.list,n,t)},setList:function(e,t){c["a"].set(e,"list",t)},setItemMoveable:function(e,t){var n=e.list.find((function(e){return e.id===t.id}));n.isMoveable=!0}},actions:{update:function(e,t){var n=e.commit;n("update",t)},updateSomeProps:function(e,t){var n=e.commit,r=e.state,a=t.marble,i=t.props,s=r.list.findIndex((function(e){return e.id===a.id})),o=Object(P["a"])({},r.list[s],{},i);n("update",o)},reset:function(e){var t=e.commit;t("setList",Object(A["a"])(ce))},remove:function(e){var t=e.commit;t("setList",[])},setMoveableItems:function(e){var t=e.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.forEach((function(e){return t("update",Object(P["a"])({},e,{isMoveable:!0}))}))},unsetMoveableAll:function(e){var t=e.commit,n=e.getters;n.list.forEach((function(e){return t("update",Object(P["a"])({},e,{isMoveable:!1}))}))}},getters:{itemById:function(e){return function(t){return e.list[le(e.list,t)]}},list:function(e){return e.list},listByPlayer:function(e,t){return function(e){return t.list.filter((function(t){return t.side===e.side}))}},listInGame:function(e,t){return t.list.filter((function(e){return!0===e.isInGame}))},listInBench:function(e,t){return t.list.filter((function(e){return!1===e.isInGame}))},listInGameByPlayer:function(e,t){return function(e){return t.list.filter((function(t){return t.side===e.side&&!0===t.isInGame}))}},listInBenchByPlayer:function(e,t){return function(e){return t.list.filter((function(t){return t.side===e.side&&!1===t.isInGame}))}},listOtherPlayersMarblesByPosition:function(e,t){return function(e,n){return t.list.filter((function(t){return t.side!==e.side&&L(H(t),n)}))}},listPlayerMarblesByPosition:function(e,t){return function(e,n){return t.list.filter((function(t){return t.side===e.side&&L(H(t),n)}))}},listInitial:function(e){return e.listInitial},isAllAtFinal:function(e,t){return function(e){var n=t.listByPlayer(e),r=n.length;return r&&n.every((function(e){return e.isAtFinal}))}}}},pe={namespaced:!0,state:{gamePlay:{isSafezonesEnabled:!1}},mutations:{},actions:{},getters:{gamePlay:function(e){return e.gamePlay}}},fe={shouldShowMenu:!0,boardStatus:u.INITIALIZING,playerActive:null,playerWinner:null,diceInfo:{value:null,player:null,isDone:null}},me={namespaced:!0,state:Object(P["a"])({},fe,{boardWidth:null}),mutations:{update:function(e,t){var n=t.key,r=t.value;c["a"].set(e,n,r)},reset:function(e){for(var t in fe)fe.hasOwnProperty(t)&&c["a"].set(e,t,fe[t])}},actions:{update:function(e,t){var n=e.commit;n("update",t)},reset:function(e){var t=e.commit;t("reset")}},getters:{shouldShowMenu:function(e){return e.shouldShowMenu},diceInfo:function(e){return e.diceInfo},boardStatus:function(e){return e.boardStatus},boardWidth:function(e){return e.boardWidth},playerActive:function(e){return e.playerActive?Me.getters["players/itemById"](e.playerActive.id):null},playerWinner:function(e){return e.playerWinner?Me.getters["players/itemById"](e.playerWinner.id):null}}},be=300,he=600,ve=1500,ye=200,ge=be+100,Oe=8.3333333333,we=.83333333333,Ne=45,Ie="store";c["a"].use(M["a"]);var Ee=["saveGame"],ke=new C["a"]({storage:window.sessionStorage,key:Ie,filter:function(e){return Ee.indexOf(e.type)>=0}}),Se=new M["a"].Store({plugins:[ke.plugin],state:{appVersion:JSON.parse(unescape("%22v1.3.2%22")),buildDate:JSON.parse(unescape(1583437663659)),gameStatus:o.NOT_STARTED,lastSavedAt:null},mutations:{update:function(e,t){var n=t.key,r=t.value;c["a"].set(e,n,r)},updateGameStatus:function(e,t){e.gameStatus=t},saveGame:function(e){var t=(new Date).getTime();e.lastSavedAt=t}},actions:{updateGameStatus:function(e,t){var n=e.commit;n("updateGameStatus",t)},saveGame:function(e){var t=e.commit;t("saveGame")}},getters:{gameStatus:function(e){return e.gameStatus},appVersion:function(e){return e.appVersion},buildDate:function(e){return e.buildDate}},modules:{steps:oe,players:ue,marbles:de,settings:pe,board:me}}),Me=Se,Ce=function(e){function t(){var e;return Object(p["a"])(this,t),e=Object(f["a"])(this,Object(m["a"])(t).apply(this,arguments)),e.showBuildInfo=!1,e}return Object(b["a"])(t,e),Object(k["a"])(t,[{key:"appVersion",get:function(){return Me.getters["appVersion"]}},{key:"buildDate",get:function(){var e=new Date(Me.getters["buildDate"]);return"".concat(e.getFullYear(),"-").concat(e.getMonth(),"-").concat(e.getDate())}},{key:"appVersionTitle",get:function(){return"Build Date: ".concat(this.buildDate)}}]),t}(h["c"]);Ce=Object(S["a"])([h["a"]],Ce);var Ae=Ce,xe=Ae,je=(n("5ffe"),Object(g["a"])(xe,I,E,!1,null,"4e8fd796",null)),Pe=je.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home"},[n("Board")],1)},Te=[],Re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"board-w mx-auto py-3",attrs:{tabindex:"0"},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.keySpacePressed()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.menuToggle()}]}},[n("div",{staticClass:"toolbar d-flex"},[n("a",{staticClass:"menu position-relative d-block mx-3 mb-3",attrs:{href:"#","aria-label":"Main menu"},on:{click:function(t){return t.preventDefault(),e.menuToggle()}}},[n("transition",{attrs:{name:"fade"}},[e.shouldShowMenu?e._e():n("span",{staticClass:"menu-icon menu-open position-absolute d-block"})]),n("transition",{attrs:{name:"fade"}},[e.shouldShowMenu?n("span",{staticClass:"menu-icon menu-close position-absolute d-block"}):e._e()])],1)]),n("main",{staticClass:"mx-3"},[n("div",{staticClass:"aspect-ratio-box mb-3"},[n("div",{staticClass:"aspect-ratio-box-inside"},[n("section",{staticClass:"board shadow-sm p-3"},[n("div",{ref:"boardInner",staticClass:"board-inner"},[n("Road",{staticClass:"road"}),n("Marbles",{staticClass:"marbles",on:{clickmarble:e.onClickMarble}}),n("Dice",{on:{turn_dice:function(t){return e._turnDice()}}})],1)]),n("MenuBoard",{directives:[{name:"show",rawName:"v-show",value:e.shouldShowMenu,expression:"shouldShowMenu"}],on:{start_game:function(t){return e._startGame()},resume_game:function(t){return e.resumeGame()}}})],1)])])])},Ge=[],De=(n("d81d"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"road"},[n("div",e._l(e.steps,(function(t){return n("Step",{key:t[e.StepPlaceProps.ROW]+"-"+t[e.StepPlaceProps.COLUMN]+"-"+t[e.StepPlaceProps.SIDE],class:["step row-"+t[e.StepPlaceProps.ROW]+" column-"+t[e.StepPlaceProps.COLUMN]],style:e.getStepStyle(t),attrs:{row:t[e.StepPlaceProps.ROW],column:t[e.StepPlaceProps.COLUMN],side:t[e.StepPlaceProps.SIDE],types:t[e.StepPlaceProps.STEP_TYPE]}})})),1),n("div",e._l(e.players,(function(t){return n("p",{key:"player-name-"+t.id,staticClass:"player-name d-block text-truncate text-center mb-2",class:["player-name-"+t.side,{"is-active font-weight-bold":e.isPlayerActive(t)}]},[e._v(" "+e._s(t.name)+" ")])})),0)])])}),Be=[],Le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"step d-flex justify-content-center align-items-center"},[n("span",{staticClass:"inner d-flex",class:e.getClasses()})])},We=[],Fe=(n("a9e3"),function(e){function t(){return Object(p["a"])(this,t),Object(f["a"])(this,Object(m["a"])(t).apply(this,arguments))}return Object(b["a"])(t,e),Object(k["a"])(t,[{key:"getClasses",value:function(){var e=[];return this.types.forEach((function(t){e.push("type-".concat(t))})),e.push("side-".concat(this.side)),e}}]),t}(h["c"]));Object(S["a"])([Object(h["b"])({type:Number,required:!0})],Fe.prototype,"row",void 0),Object(S["a"])([Object(h["b"])({type:Number,required:!0})],Fe.prototype,"column",void 0),Object(S["a"])([Object(h["b"])({type:Number,required:!0})],Fe.prototype,"side",void 0),Object(S["a"])([Object(h["b"])({type:Array,required:!0})],Fe.prototype,"types",void 0),Fe=Object(S["a"])([h["a"]],Fe);var He=Fe,Ue=He,Ye=(n("ab5a"),Object(g["a"])(Ue,Le,We,!1,null,"b1621628",null)),$e=Ye.exports,Ve=function(e){function t(){var e;return Object(p["a"])(this,t),e=Object(f["a"])(this,Object(m["a"])(t).apply(this,arguments)),e.StepPlaceProps=i,e}return Object(b["a"])(t,e),Object(k["a"])(t,[{key:"getStepStyle",value:function(e){var t=e[i.ROW],n=e[i.COLUMN];return{top:"".concat((t-1)*(Oe+we)+"%"),left:"".concat((n-1)*(Oe+we)+"%")}}},{key:"isPlayerActive",value:function(e){return!!this.playerActive&&this.playerActive.id===e.id}},{key:"playerActive",get:function(){return Me.getters["board/playerActive"]}},{key:"steps",get:function(){return Me.getters["steps/allSteps"]}},{key:"players",get:function(){return Me.getters["players/list"]}}]),t}(h["c"]);Ve=Object(S["a"])([Object(h["a"])({components:{Step:$e}})],Ve);var Ze=Ve,ze=Ze,qe=(n("30a7"),Object(g["a"])(ze,De,Be,!1,null,"8b39f114",null)),Ke=qe.exports,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.shouldShowResult?n("div",{staticClass:"dice",class:"dice-"+e.diceInfo.value,style:e.getDiceStyle()}):e._e(),e.shouldShowWaitingDice?n("a",{staticClass:"turn-button",style:e.getTurnButtonStyle(),attrs:{role:"button"},on:{click:function(t){return t.preventDefault(),e.onClickTurn()}}}):e._e()])},Qe=[],Xe=function(e){function t(){var e;return Object(p["a"])(this,t),e=Object(f["a"])(this,Object(m["a"])(t).apply(this,arguments)),e.BoardStatus=u,e}return Object(b["a"])(t,e),Object(k["a"])(t,[{key:"onClickTurn",value:function(){this.$emit("turn_dice")}},{key:"getDiceStyle",value:function(){var e={},t=Oe+we,n=0,r=0;return 1===this.side?(n=2.5*t,r=7.5*t):2===this.side?(n=2.5*t,r=2.5*t):3===this.side?(n=7.5*t,r=2.5*t):4===this.side&&(n=7.5*t,r=7.5*t),e.transform="\n        translateX(".concat(n/100*this.boardWidth,"px)\n        translateY(").concat(r/100*this.boardWidth,"px)\n        "),e}},{key:"getTurnButtonStyle",value:function(){var e={},t=Oe+we,n=0,r=0;return 1===this.side?(n=2.5*t,r=7.5*t):2===this.side?(n=2.5*t,r=2.5*t):3===this.side?(n=7.5*t,r=2.5*t):4===this.side&&(n=7.5*t,r=7.5*t),e.transform="\n        translateX(".concat(n/100*this.boardWidth,"px)\n        translateY(").concat(r/100*this.boardWidth,"px)\n        "),e}},{key:"side",get:function(){return this.playerActive?this.playerActive.side:0}},{key:"playerActive",get:function(){return Me.getters["board/playerActive"]}},{key:"diceInfo",get:function(){return Me.getters["board/diceInfo"]}},{key:"boardWidth",get:function(){return Me.getters["board/boardWidth"]}},{key:"boardStatus",get:function(){return Me.getters["board/boardStatus"]}},{key:"shouldShowWaitingDice",get:function(){return[u.WAITING_TURN_DICE].includes(this.boardStatus)&&this.playerActive.isMain}},{key:"shouldShowResult",get:function(){var e=[u.TURNING_DICE,u.PLAYER_IS_THINKING,u.MOVING_MARBLES].includes(this.boardStatus);return e}}]),t}(h["c"]);Xe=Object(S["a"])([h["a"]],Xe);var et=Xe,tt=et,nt=(n("8700"),Object(g["a"])(tt,Je,Qe,!1,null,"a003ad08",null)),rt=nt.exports,at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"marbles"},e._l(e.list,(function(t){return n("Marble",{key:t.id,attrs:{model:t},on:{clickmarble:e.onClickMarble}})})),1)},it=[],st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"marble",class:[{moveable:e.model.isMoveable,"is-moving":e.model.isMoving},"is-side-"+e.model.side],style:e.getWrapperStyle(),on:{click:e.onClickMarble}},[n("span",{staticClass:"inner d-block",class:{"is-at-final":e.model.isAtFinal,"no-animation":e.noAnimation}})])},ot=[],ut=function(e){function t(){var e;return Object(p["a"])(this,t),e=Object(f["a"])(this,Object(m["a"])(t).apply(this,arguments)),e.noAnimation=!1,e}return Object(b["a"])(t,e),Object(k["a"])(t,[{key:"mounted",value:function(){this.model.isAtFinal&&(this.noAnimation=!0)}},{key:"getWrapperStyle",value:function(){var e=this.model.column,t=this.model.row,n=(Oe+we)*this.boardWidth;return{transform:"\n        translateX(".concat(n/100*(e-1)+"px",")\n        translateY(").concat(n/100*(t-1)+"px",")\n        ")}}},{key:"onClickMarble",value:function(){this.$emit("clickmarble",this.model)}},{key:"boardWidth",get:function(){return Me.getters["board/boardWidth"]}}]),t}(h["c"]);Object(S["a"])([Object(h["b"])({type:Object})],ut.prototype,"model",void 0),ut=Object(S["a"])([h["a"]],ut);var ct=ut,lt=ct,dt=(n("666e"),Object(g["a"])(lt,st,ot,!1,null,"2b7576a8",null)),pt=dt.exports,ft=function(e){function t(){return Object(p["a"])(this,t),Object(f["a"])(this,Object(m["a"])(t).apply(this,arguments))}return Object(b["a"])(t,e),Object(k["a"])(t,[{key:"onClickMarble",value:function(e){this.$emit("clickmarble",e)}},{key:"list",get:function(){return Me.getters["marbles/list"]}}]),t}(h["c"]);ft=Object(S["a"])([Object(h["a"])({components:{Marble:pt}})],ft);var mt=ft,bt=mt,ht=(n("32f2"),Object(g["a"])(bt,at,it,!1,null,"6ffac802",null)),vt=ht.exports,yt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"wrapper h-100",class:{"game-over":e.playerWinner}},[n("ul",{staticClass:"nav d-flex flex-column justify-content-center align-items-center h-100"},[n("li",[e.playerWinner?n("p",{staticClass:"message h3 text-dark mb-4"},[n("span",{staticClass:"font-weight-bold mr-2"},[e._v(e._s(e.playerWinner.name))]),n("span",[e._v("Won the Game!")])]):e._e()]),n("li",{staticClass:"w-75"},[e.gameStatus===e.GameStatus.NOT_STARTED?n("button",{staticClass:"btn btn-lg text-uppercase w-100 btn-primary mb-3 font-weight-bolder rounded-pill shadow-sm",attrs:{type:"button"},on:{click:function(t){return e.onClickStart()}}},[e._v(" Start Game ")]):e._e()]),n("li",{staticClass:"w-75"},[e.gameStatus===e.GameStatus.GAME_OVER?n("button",{staticClass:"btn btn-lg text-uppercase w-100 btn-primary mb-3 font-weight-bolder rounded-pill shadow-sm",attrs:{type:"button"},on:{click:function(t){return e.onClickStart()}}},[e._v(" Play Again ")]):e._e()]),n("li",{staticClass:"w-75"},[e.gameStatus===e.GameStatus.PLAYING?n("button",{staticClass:"btn btn-lg text-uppercase w-100 btn-primary mb-3 font-weight-bolder rounded-pill shadow-sm",attrs:{type:"button"},on:{click:function(t){return e.onClickPause()}}},[e._v(" Pause ")]):e._e()]),n("li",{staticClass:"w-75"},[e.gameStatus===e.GameStatus.PAUSED?n("button",{staticClass:"btn btn-lg text-uppercase w-100 btn-primary mb-3 font-weight-bolder rounded-pill shadow-sm",attrs:{type:"button"},on:{click:function(t){return e.onClickResume()}}},[e._v(" Resume ")]):e._e()]),n("li",{staticClass:"w-75"},[n("button",{staticClass:"btn btn-lg text-uppercase w-100 btn-secondary font-weight-normal rounded-pill shadow-sm",attrs:{type:"button"},on:{click:function(t){return e.onClickQuit()}}},[e._v(" Quit ")])])])])},gt=[],Ot=n("d34e"),wt=n.n(Ot);function Nt(e){var t=e.value,n=e.isDone,r=void 0!==n&&n,a=e.player,i=6===t;return{value:t,canMoveBench:i,hasReward:i,isDone:r,player:a}}function It(){var e=new wt.a,t=e.random();return t}function Et(){var e=Me.getters["board/diceInfo"],t=Object(P["a"])({},e,{isDone:!0});Me.dispatch("board/update",{key:"diceInfo",value:t})}function kt(e){return St.apply(this,arguments)}function St(){return St=Object(j["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Me.dispatch("board/update",{key:"boardStatus",value:u.TURNING_DICE}),n=Math.ceil(6*It()),e.next=4,Me.dispatch("board/update",{key:"diceInfo",value:Nt({value:n,isDone:!1,player:t})});case 4:Me.dispatch("board/update",{key:"boardStatus",value:u.PLAYER_IS_THINKING}),Tt("turned dice");case 6:case"end":return e.stop()}}),e)}))),St.apply(this,arguments)}function Mt(){Me.dispatch("board/update",{key:"boardStatus",value:u.FINISHED}),Me.dispatch("updateGameStatus",o.GAME_OVER);var e=Me.getters["board/playerActive"];Zt(e),Ct(!0),Tt("game finished")}function Ct(e){Me.dispatch("board/update",{key:"shouldShowMenu",value:e})}function At(){return xt.apply(this,arguments)}function xt(){return xt=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Lt();case 2:return e.next=4,Ft();case 4:return e.next=6,Me.dispatch("updateGameStatus",o.PLAYING);case 6:return Ct(!1),e.next=9,Z(he);case 9:case"end":return e.stop()}}),e)}))),xt.apply(this,arguments)}function jt(){var e=Me.getters["players/list"],t=Math.ceil(It()*e.length);return e[t-1]}function Pt(){return _t.apply(this,arguments)}function _t(){return _t=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Me.dispatch("updateGameStatus",o.PAUSED);case 2:case"end":return e.stop()}}),e)}))),_t.apply(this,arguments)}function Tt(e){Me.dispatch("saveGame")}function Rt(){return Gt.apply(this,arguments)}function Gt(){return Gt=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Me.dispatch("updateGameStatus",o.NOT_STARTED);case 2:Dt(),sessionStorage.removeItem(Ie),Gn.push({name:"home"});case 5:case"end":return e.stop()}}),e)}))),Gt.apply(this,arguments)}function Dt(){return Bt.apply(this,arguments)}function Bt(){return Bt=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Me.dispatch("marbles/remove");case 2:return e.next=4,Me.dispatch("players/remove");case 4:return e.next=6,Me.dispatch("board/reset");case 6:case"end":return e.stop()}}),e)}))),Bt.apply(this,arguments)}function Lt(){return Wt.apply(this,arguments)}function Wt(){return Wt=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Me.dispatch("marbles/reset");case 2:return e.next=4,Me.dispatch("players/remove");case 4:return e.next=6,Me.dispatch("board/reset");case 6:case"end":return e.stop()}}),e)}))),Wt.apply(this,arguments)}function Ft(){return Ht.apply(this,arguments)}function Ht(){return Ht=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Me.dispatch("players/add",{isAI:!1,isMain:!0,name:"You",color:"red",isInGame:!0});case 2:return e.next=4,Me.dispatch("players/add",{isAI:!0,isMain:!1,color:"green",isInGame:!0});case 4:return e.next=6,Me.dispatch("players/add",{isAI:!0,isMain:!1,color:"blue",isInGame:!0});case 6:return e.next=8,Me.dispatch("players/add",{isAI:!0,isMain:!1,color:"yellow",isInGame:!0});case 8:case"end":return e.stop()}}),e)}))),Ht.apply(this,arguments)}function Ut(){return Yt.apply(this,arguments)}function Yt(){return Yt=Object(j["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=Me.getters["board/playerActive"],t){e.next=3;break}return e.abrupt("return",$t(jt()));case 3:return n=Me.getters["players/indexInListById"](t.id),r=Me.getters["players/list"],a=(n+1)%r.length,i=r[a],e.next=9,$t(i);case 9:case"end":return e.stop()}}),e)}))),Yt.apply(this,arguments)}function $t(e){return Vt.apply(this,arguments)}function Vt(){return Vt=Object(j["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Me.dispatch("board/update",{key:"playerActive",value:t}));case 1:case"end":return e.stop()}}),e)}))),Vt.apply(this,arguments)}function Zt(e){return zt.apply(this,arguments)}function zt(){return zt=Object(j["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Me.dispatch("board/update",{key:"playerWinner",value:t}));case 1:case"end":return e.stop()}}),e)}))),zt.apply(this,arguments)}function qt(e){var t=e.boardElement;Me.dispatch("board/update",{key:"boardWidth",value:t.clientWidth})}var Kt=function(e){function t(){var e;return Object(p["a"])(this,t),e=Object(f["a"])(this,Object(m["a"])(t).apply(this,arguments)),e.BoardStatus=u,e.GameStatus=o,e}return Object(b["a"])(t,e),Object(k["a"])(t,[{key:"onClickStart",value:function(){this.$emit("start_game")}},{key:"onClickPause",value:function(){Pt()}},{key:"onClickResume",value:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$emit("resume_game");case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onClickQuit",value:function(){Rt()}},{key:"playerWinner",get:function(){return Me.getters["board/playerWinner"]}},{key:"boardStatus",get:function(){return Me.getters["board/boardStatus"]}},{key:"gameStatus",get:function(){return Me.getters["gameStatus"]}}]),t}(h["c"]);Kt=Object(S["a"])([h["a"]],Kt);var Jt=Kt,Qt=Jt,Xt=(n("c3dc"),Object(g["a"])(Qt,yt,gt,!1,null,"a841af3a",null)),en=Xt.exports,tn=n("3835"),nn=n("5c8a"),rn=n("8c5f");function an(e){var t=e.player,n=e.diceInfo,r=[];return r.push.apply(r,Object(A["a"])(ln(n,t))),r.push.apply(r,Object(A["a"])(dn(n,t))),r}function sn(e,t){var n=F(Me.getters["steps/finalStep"]),r=Object(nn["a"])(e);return r.distanceToFinal=R(e.to,n,t),r.kickoutList=re(t,e.to),r.isCurrentPositionSafepoint=Y(e.from)[i.STEP_TYPE].includes(a.SAFEZONE),r.isTargetPositionSafepoint=Y(e.to)[i.STEP_TYPE].includes(a.SAFEZONE),r}var on={currentSafepoint:function(){var e=Me.getters["settings/gamePlay"];return e.isSafezonesEnabled?-2:0},targetSafepoint:function(){var e=Me.getters["settings/gamePlay"];return e.isSafezonesEnabled?4:0},benchOut:5,stayBehindOthers:function(e){return(e.kickoutList||[]).length,0},kickout:function(e){return e.isTargetPositionSafepoint?0:10},distanceFinal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne;return(Ne-e)/Ne}};function un(e){var t=0;return t+=(e.kickoutList||[]).length*on.kickout(e),t+=e.marble.isInGame?on.benchOut:0,t+=on.distanceFinal(e.distanceToFinal),t+=e.isTargetPositionSafepoint?on.targetSafepoint():0,t+=e.isCurrentPositionSafepoint?on.currentSafepoint():0,t}function cn(e,t){var n=[];return e.forEach((function(e){var r=sn(e,t);r.quality=un(r),n.push(r)})),Object(rn["a"])(n,"quality")}function ln(e,t){var n=[],r=Me.getters["marbles/listInBenchByPlayer"](t),a=r.length>0,i=Me.getters["steps/sideStartpoint"](t),o=Me.getters["marbles/listPlayerMarblesByPosition"](t,F(i)),u=o.length>0;if(!a||u)return n;if(e.canMoveBench){var c=Me.getters["steps/sideStartpoint"](t);r.forEach((function(e){var t={from:H(e),to:F(c),type:s.BENCH,marble:e};n.push(t)}))}return n}function dn(e,t){var n=[],r=Me.getters["marbles/listInGameByPlayer"](t);return r.forEach((function(r){var o=H(r),u=F(Me.getters["steps/finalStep"]),c=R(o,u,t),l=e.value<=c;if(l){var d=G({from:o,player:t,amount:e.value}),p=Me.getters["marbles/listPlayerMarblesByPosition"](t,d),f=Y(d)[i.STEP_TYPE].includes(a.FINAL),m=p.length>0;if(f||!m){var b={from:o,to:G({from:o,amount:e.value,player:t}),type:s.IN_GAME,marble:r};n.push(b)}}})),n}function pn(e){var t=e.filter((function(e){return e.type===s.BENCH})).length,n=e.filter((function(e){return e.type===s.IN_GAME})).length,r=n+(t>0?1:0);return r>1}function fn(e,t){return e.side===t.side&&!0===e.isMoveable}function mn(e){return bn.apply(this,arguments)}function bn(){return bn=Object(j["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,s,o,u,c,l,d,p,f,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=Object(P["a"])({},t.marble,{isInGame:!0,row:t.to.row,column:t.to.column,isMoving:!1,isMoveable:!1}),r=D(t),a=!0,s=!1,o=void 0,e.prev=5,u=r.entries()[Symbol.iterator]();case 7:if(a=(c=u.next()).done){e.next=18;break}return l=Object(tn["a"])(c.value,2),d=l[0],p=l[1],f=Object(P["a"])({},t.marble,{isInGame:!0,row:p[i.ROW],column:p[i.COLUMN],isMoving:!0,isMoveable:!1}),e.next=12,Me.dispatch("marbles/update",f);case 12:if(!(d<=r.length-2)){e.next=15;break}return e.next=15,Z(ge);case 15:a=!0,e.next=7;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](5),s=!0,o=e.t0;case 24:e.prev=24,e.prev=25,a||null==u.return||u.return();case 27:if(e.prev=27,!s){e.next=30;break}throw o;case 30:return e.finish(27);case 31:return e.finish(24);case 32:return e.next=34,Me.dispatch("marbles/update",n);case 34:return m=Object(P["a"])({},t,{marble:n}),e.abrupt("return",m);case 36:case"end":return e.stop()}}),e,null,[[5,20,24,32],[25,,27,31]])}))),bn.apply(this,arguments)}function hn(e){return vn.apply(this,arguments)}function vn(){return vn=Object(j["a"])(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=Me.getters["marbles/itemById"](t),n.isAtFinal){e.next=3;break}return e.abrupt("return");case 3:Z(be),r=se(n),i=U(r),Me.dispatch("steps/updateSomeProps",{step:i,setType:a.BENCH_DONE});case 7:case"end":return e.stop()}}),e)}))),vn.apply(this,arguments)}function yn(e,t){return gn.apply(this,arguments)}function gn(){return gn=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Me.dispatch("marbles/unsetMoveableAll");case 2:Me.dispatch("board/update",{key:"boardStatus",value:u.MOVING_MARBLES});case 3:case"end":return e.stop()}}),e)}))),gn.apply(this,arguments)}function On(e){Me.dispatch("saveGame")}function wn(){return Nn.apply(this,arguments)}function Nn(){return Nn=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Et();case 2:return On("turn finished"),e.next=5,Z(be);case 5:case"end":return e.stop()}}),e)}))),Nn.apply(this,arguments)}function In(e,t){return En.apply(this,arguments)}function En(){return En=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,J(t.marble,n);case 2:return e.next=4,X(t.marble);case 4:return e.next=6,hn(t.marble.id);case 6:return e.next=8,te(n);case 8:return e.next=10,ae(t.marble,n);case 10:case"end":return e.stop()}}),e)}))),En.apply(this,arguments)}var kn=n("85b1"),Sn=function(e){function t(){var e;return Object(p["a"])(this,t),e=Object(f["a"])(this,Object(m["a"])(t).apply(this,arguments)),e.boardWidthUpdaterDebounced=Object(kn["a"])(e.boardWidthUpdater,150),e}return Object(b["a"])(t,e),Object(k["a"])(t,[{key:"mounted",value:function(){this.init(),this.continueGame()}},{key:"destroyed",value:function(){this.removeResizeListener(),Me.dispatch("updateGameStatus",o.NOT_STARTED)}},{key:"init",value:function(){this.boardWidthUpdater(),this.resizeListener(),this.focusBoard()}},{key:"continueGame",value:function(){this.gameStatus===o.PLAYING&&(console.log("continue game"),this.focusBoard(),this.playTurn())}},{key:"focusBoard",value:function(){this.$el.focus()}},{key:"resumePromise",value:function(){var e=this;return new Promise((function(t,n){e.gameStatus===o.PLAYING?t():e.gameStatus===o.PAUSED&&e.$once("__resume_game",(function(){t()}))}))}},{key:"resumeGame",value:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Me.dispatch("updateGameStatus",o.PLAYING);case 2:Ct(!1),this.focusBoard(),this.$emit("__resume_game");case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_startGame",value:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,At();case 2:this.focusBoard(),this.playTurn();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"shouldChangeTurn",value:function(){return!this.diceInfo.value||!1!==this.isPreviousMoveCompleted&&!this.diceInfo.hasReward}},{key:"menuToggle",value:function(){Ct(!this.shouldShowMenu)}},{key:"playTurn",value:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isGameOver){e.next=3;break}return Mt(),e.abrupt("return");case 3:return e.next=5,this.resumePromise();case 5:return this.shouldChangeTurn()&&Ut(),e.next=8,this.turnDicePromise();case 8:return e.next=10,this.sleepBetweenTurns();case 10:return t=this.playerActive.isAI?this.performActionsOfPlayerAI:this.performActionsOfPlayerNoAI,e.next=13,t();case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"sleepBetweenTurns",value:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Z(ve);case 2:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"performActionsOfPlayerAI",value:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.getAvailableActions(),0!==t.length){e.next=7;break}return e.next=4,wn();case 4:this.playTurn(),e.next=13;break;case 7:if(!this.shouldAutoMove(t)){e.next=13;break}return e.next=10,this.autoMove(t,this.playerActive);case 10:return e.next=12,wn();case 12:this.playTurn();case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"performActionsOfPlayerNoAI",value:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.getAvailableActions(),!(t.length>0)){e.next=6;break}this.setMoveableMarbles(t),Me.dispatch("board/update",{key:"boardStatus",value:u.PLAYER_IS_THINKING}),e.next=9;break;case 6:return e.next=8,wn();case 8:this.playTurn();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onClickMarble",value:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(fn(t,this.playerActive)){e.next=2;break}return e.abrupt("return");case 2:return n=V({player:this.playerActive,marble:t,diceInfo:this.diceInfo}),yn(n,this.playerActive),e.next=6,this.move(n);case 6:return r=e.sent,e.next=9,In(r,this.playerActive);case 9:return e.next=11,wn();case 11:this.playTurn();case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setMoveableMarbles",value:function(e){var t=e.map((function(e){return e.marble}));Me.dispatch("marbles/setMoveableItems",t)}},{key:"shouldAutoMove",value:function(e){return this.playerActive.isAI||!pn(e)}},{key:"autoMove",value:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=cn(t,n),yn(r,this.playerActive),e.next=4,this.move(r);case 4:return a=e.sent,e.next=7,In(a,this.playerActive);case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"move",value:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,mn(t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAvailableActions",value:function(){return an({player:this.playerActive,diceInfo:this.diceInfo})}},{key:"turnDicePromise",value:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!1!==this.isPreviousMoveCompleted){e.next=3;break}return console.log("dont turn"),e.abrupt("return",Promise.resolve());case 3:if(Me.dispatch("board/update",{key:"boardStatus",value:u.WAITING_TURN_DICE}),!this.playerActive.isAI){e.next=8;break}return e.next=7,this._turnDice();case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",new Promise((function(e){t.$once("__turn_dice",e)})));case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"_turnDice",value:function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,kt(this.playerActive);case 2:return this.$emit("__turn_dice"),e.next=5,Z(ye);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"keySpacePressed",value:function(){this.playerActive.isMain&&this.boardStatus==u.WAITING_TURN_DICE&&this._turnDice()}},{key:"boardWidthUpdater",value:function(){qt({boardElement:this.$refs.boardInner})}},{key:"resizeListener",value:function(){window.addEventListener("resize",this.boardWidthUpdaterDebounced)}},{key:"removeResizeListener",value:function(){window.removeEventListener("resize",this.boardWidthUpdaterDebounced)}},{key:"shouldShowMenu",get:function(){return Me.getters["board/shouldShowMenu"]}},{key:"boardStatus",get:function(){return Me.getters["board/boardStatus"]}},{key:"playerActive",get:function(){return Me.getters["board/playerActive"]}},{key:"playerWinner",get:function(){return Me.getters["board/playerWinner"]}},{key:"diceInfo",get:function(){return Me.getters["board/diceInfo"]}},{key:"isGameOver",get:function(){return!!this.playerActive&&Me.getters["marbles/isAllAtFinal"](this.playerActive)}},{key:"gameStatus",get:function(){return Me.getters["gameStatus"]}},{key:"isPreviousMoveCompleted",get:function(){return this.diceInfo.isDone}}]),t}(h["c"]);Sn=Object(S["a"])([Object(h["a"])({components:{Dice:rt,Road:Ke,Marbles:vt,MenuBoard:en}})],Sn);var Mn=Sn,Cn=Mn,An=(n("a3cb"),Object(g["a"])(Cn,Re,Ge,!1,null,null,null)),xn=An.exports,jn={name:"page-home",components:{Board:xn}},Pn=jn,_n=Object(g["a"])(Pn,_e,Te,!1,null,null,null),Tn=_n.exports;c["a"].use(N["a"]);var Rn,Gn=new N["a"]({routes:[{path:"/",name:"home",component:Pe},{path:"/play",name:"play",component:Tn},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]}),Dn=n("9483"),Bn=function(e){B({text:"New version available , Click here to run the new version!",close:!1,onClick:function(){console.log("upgrade confirmed"),e.postMessage({type:"SKIP_WAITING"})}})};Object(Dn["a"])("".concat("/ludo/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(e){console.log("New content is available; please refresh."),Bn(e.waiting)},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),navigator.serviceWorker.addEventListener("controllerchange",(function(){console.log("controllerchange..."),Rn||(window.location.reload(),Rn=!0)})),c["a"].config.productionTip=!1,new c["a"]({router:Gn,store:Me,render:function(e){return e(w)}}).$mount("#app")},d2d2:function(e,t,n){}});