(function(e){function t(t){for(var r,s,o=t[0],c=t[1],u=t[2],l=0,f=[];l<o.length;l++)s=o[l],i[s]&&f.push(i[s][0]),i[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},i={app:0},a=[];function s(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"cc7e2746"}[e]+".js"}function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise(function(t,r){n=i[e]=[t,r]});t.push(n[2]=r);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=s(e),a=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+r+": "+a+")");s.type=r,s.request=a,n[1](s)}i[e]=void 0}};var u=setTimeout(function(){a({type:"timeout",target:c})},12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/ludo/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},5811:function(e,t,n){},"59f1":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var r=n("5e27"),i=n.n(r);i.a},"5e27":function(e,t,n){},6279:function(e,t,n){"use strict";var r=n("5811"),i=n.n(r);i.a},"6dae":function(e,t,n){"use strict";var r=n("ca9e"),i=n.n(r);i.a},"8fb8":function(e,t,n){"use strict";var r=n("ead2"),i=n.n(r);i.a},a3cb:function(e,t,n){"use strict";var r=n("e735"),i=n.n(r);i.a},c2ed:function(e,t,n){"use strict";var r=n("59f1"),i=n.n(r);i.a},ca9e:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r,i,a,s=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},c=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v("|\n  "),n("router-link",{attrs:{to:"/about"}},[e._v("About")])],1)},l=[],d=n("2877"),f={},p=Object(d["a"])(f,u,l,!1,null,null,null),m=(p.exports,{name:"app"}),v=m,b=(n("5c0b"),Object(d["a"])(v,o,c,!1,null,null,null)),O=b.exports,h=n("8c4f"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-home"},[n("Board")],1)},M=[],g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("section",{staticClass:"board m-3 p-3"},[n("div",{staticClass:"board-inner"},[n("Road",{staticClass:"road"}),n("Marbles",{staticClass:"marbles",on:{clickmarble:e.onClickMarble}})],1)])]),n("div",{staticClass:"col-6"},[n("div",{staticClass:"mt-4"},[e._v("player: "+e._s(e.activePlayer.id))]),n("div",{staticClass:"mt-4",style:{background:6===e.diceResult?"green":"white"}},[e._v("dice result: "+e._s(e.diceResult))])])])])},N=[],C=(n("96cf"),n("3b8d")),E=n("cebc"),A=(n("20d6"),n("d225")),j=n("b0b4"),w=n("308d"),P=n("6bb5"),I=n("4e2b"),k=n("9ab4"),x=n("2f62"),T=n("75fc");n("6762"),n("2fdb"),n("7514");(function(e){e[e["BENCH"]=0]="BENCH",e[e["COMMON"]=1]="COMMON",e[e["STARTPOINT"]=2]="STARTPOINT",e[e["ENDPOINT"]=3]="ENDPOINT",e[e["LASTPOINT"]=4]="LASTPOINT",e[e["SAFEZONE"]=5]="SAFEZONE",e[e["FINAL"]=6]="FINAL"})(r||(r={})),function(e){e[e["BENCH"]=0]="BENCH",e[e["IN_GAME"]=2]="IN_GAME"}(i||(i={})),function(e){e[e["NOT_STARTED"]=0]="NOT_STARTED",e[e["GAME_OVER"]=1]="GAME_OVER"}(a||(a={}));var S={namespaced:!0,state:{list:[[10,1,1,[r.BENCH]],[10,2,1,[r.BENCH]],[11,1,1,[r.BENCH]],[11,2,1,[r.BENCH]],[11,5,1,[r.COMMON,r.STARTPOINT,r.SAFEZONE]],[10,5,1,[r.COMMON]],[9,5,1,[r.COMMON]],[8,5,1,[r.COMMON]],[7,5,1,[r.COMMON]],[7,4,1,[r.COMMON]],[7,3,1,[r.COMMON]],[7,2,1,[r.COMMON]],[7,1,1,[r.COMMON]],[6,1,1,[r.COMMON]],[10,6,1,[r.ENDPOINT]],[9,6,1,[r.ENDPOINT]],[8,6,1,[r.ENDPOINT]],[7,6,1,[r.ENDPOINT,r.LASTPOINT]],[1,1,2,[r.BENCH]],[1,2,2,[r.BENCH]],[2,1,2,[r.BENCH]],[2,2,2,[r.BENCH]],[5,1,2,[r.COMMON,r.STARTPOINT,r.SAFEZONE]],[5,2,2,[r.COMMON]],[5,3,2,[r.COMMON]],[5,4,2,[r.COMMON]],[5,5,2,[r.COMMON]],[4,5,2,[r.COMMON]],[3,5,2,[r.COMMON]],[2,5,2,[r.COMMON]],[1,5,2,[r.COMMON]],[1,6,2,[r.COMMON]],[6,2,2,[r.ENDPOINT]],[6,3,2,[r.ENDPOINT]],[6,4,2,[r.ENDPOINT]],[6,5,2,[r.ENDPOINT,r.LASTPOINT]],[1,10,3,[r.BENCH]],[1,11,3,[r.BENCH]],[2,10,3,[r.BENCH]],[2,11,3,[r.BENCH]],[1,7,3,[r.COMMON,r.STARTPOINT,r.SAFEZONE]],[2,7,3,[r.COMMON]],[3,7,3,[r.COMMON]],[4,7,3,[r.COMMON]],[5,7,3,[r.COMMON]],[5,8,3,[r.COMMON]],[5,9,3,[r.COMMON]],[5,10,3,[r.COMMON]],[5,11,3,[r.COMMON]],[6,11,3,[r.COMMON]],[2,6,3,[r.ENDPOINT]],[3,6,3,[r.ENDPOINT]],[4,6,3,[r.ENDPOINT]],[5,6,3,[r.ENDPOINT,r.LASTPOINT]],[10,10,4,[r.BENCH]],[10,11,4,[r.BENCH]],[11,10,4,[r.BENCH]],[11,11,4,[r.BENCH]],[7,11,4,[r.COMMON,r.STARTPOINT,r.SAFEZONE]],[7,10,4,[r.COMMON]],[7,9,4,[r.COMMON]],[7,8,4,[r.COMMON]],[7,7,4,[r.COMMON]],[8,7,4,[r.COMMON]],[9,7,4,[r.COMMON]],[10,7,4,[r.COMMON]],[11,7,4,[r.COMMON]],[11,6,4,[r.COMMON]],[6,10,4,[r.ENDPOINT]],[6,9,4,[r.ENDPOINT]],[6,8,4,[r.ENDPOINT]],[6,7,4,[r.ENDPOINT,r.LASTPOINT]],[6,6,0,[r.FINAL,r.SAFEZONE]]]},getters:{getStepByPosition:function(e){return function(t){return e.list.find(function(e){return e[0]===t.row&&e[1]===t.column})}},allBenchs:function(e){return e.list.filter(function(e){return e[3].includes(r.BENCH)})},sideBenchs:function(e){return function(t){var n=t.side;return e.list.filter(function(e){return e[2]===n&&e[3].includes(r.BENCH)})}},sideCommons:function(e){return function(t){var n=t.side;return e.list.filter(function(e){return e[2]===n&&e[3].includes(r.COMMON)})}},sideEndpoints:function(e){return function(t){var n=t.side;return e.list.filter(function(e){return e[2]===n&&e[3].includes(r.ENDPOINT)})}},sideStartpoint:function(e){return function(t){var n=t.side;return e.list.find(function(e){return e[2]===n&&e[3].includes(r.STARTPOINT)})}},sideSteps:function(e,t){return function(e){var n=e.side;return[].concat(Object(T["a"])(t.sideCommons({side:n})),Object(T["a"])(t.sideEndpoints({side:n})))}},finalStep:function(e){return e.list.find(function(e){return e[3].includes(r.FINAL)})},allSteps:function(e,t){return[].concat(Object(T["a"])(t.allBenchs),Object(T["a"])(t.sideSteps({side:1})),Object(T["a"])(t.sideSteps({side:2})),Object(T["a"])(t.sideSteps({side:3})),Object(T["a"])(t.sideSteps({side:4})),[t.finalStep])},allPaths:function(e,t){return function(e){var n=e.side;switch(n){case 1:return[].concat(Object(T["a"])(t.sideCommons({side:1})),Object(T["a"])(t.sideCommons({side:2})),Object(T["a"])(t.sideCommons({side:3})),Object(T["a"])(t.sideCommons({side:4})),Object(T["a"])(t.sideEndpoints({side:1})),[t.finalStep]);case 2:return[].concat(Object(T["a"])(t.sideCommons({side:2})),Object(T["a"])(t.sideCommons({side:3})),Object(T["a"])(t.sideCommons({side:4})),Object(T["a"])(t.sideCommons({side:1})),Object(T["a"])(t.sideEndpoints({side:2})),[t.finalStep]);case 3:return[].concat(Object(T["a"])(t.sideCommons({side:3})),Object(T["a"])(t.sideCommons({side:4})),Object(T["a"])(t.sideCommons({side:1})),Object(T["a"])(t.sideCommons({side:2})),Object(T["a"])(t.sideEndpoints({side:3})),[t.finalStep]);case 4:return[].concat(Object(T["a"])(t.sideCommons({side:4})),Object(T["a"])(t.sideCommons({side:1})),Object(T["a"])(t.sideCommons({side:2})),Object(T["a"])(t.sideCommons({side:3})),Object(T["a"])(t.sideEndpoints({side:4})),[t.finalStep])}}}}},R=(n("ac6a"),{namespaced:!0,state:{list:[]},mutations:{update:function(e,t){var n=e.list.findIndex(function(e){return e.id===t.id});s["a"].set(e.list,n,t)},reset:function(e){e.list=[]},add:function(e,t){e.list.push(t)}},actions:{update:function(e,t){var n=e.commit;n("update",t)},updateAll:function(e,t){var n=e.commit,r=e.getters,i=r.list;i.forEach(function(e){var r=Object(E["a"])({},e,t);n("update",r)})},reset:function(e){var t=e.commit;t("reset")},add:function(e,t){var n=e.commit,r=e.getters,i=r.list.length,a=Object(E["a"])({id:i+1,side:i+1,name:"Player ".concat(i+1)},t);n("add",a)}},getters:{list:function(e){return e.list},itemById:function(e){return function(t){return e.list.find(function(e){return e.id===t})}},itemBySide:function(e){return function(t){return e.list.find(function(e){return e.side===t})}},listInGame:function(e){return e.list.filter(function(e){return e.isInGame})},active:function(e){return e.list.find(function(e){return e.isActive})}}});n("ac4d"),n("8a81");function B(e,t,n){var r=ce.getters["steps/allPaths"](n),i=r.findIndex(function(t){return L($(t),e)}),a=r.findIndex(function(e){return L($(e),t)});return a-i}function G(e){var t=e.from,n=e.amount,r=e.player,i=ce.getters["steps/allPaths"](r),a=i.findIndex(function(e){return e[0]===t.row&&e[1]===t.column});if(i.length>=a+n){var s=i[a+n];return $(s)}throw Error("Out of path range")}function _(e){var t=ce.getters["steps/allPaths"]({side:e.marble.side}),n=t.findIndex(function(t){return L($(t),e.from)}),r=t.findIndex(function(t){return L($(t),e.to)});return t.slice(n+1,r+1)}var F=n("d34e"),H=n.n(F);function D(){var e=new H.a;return e.random()}function L(e,t){return e.row===t.row&&e.column===t.column}function $(e){return{row:e[0],column:e[1]}}function Z(e){return{row:e.row,column:e.column}}function q(e){var t=Z(e),n=ce.getters["steps/getStepByPosition"](t);return n[3]}function z(e){return e.isInGame?i.IN_GAME:i.BENCH}function J(e){var t,n=e.player,r=e.marble,a=e.diceResult,s=z(r),o=Z(r);return t=s===i.BENCH?G({from:o,amount:1,player:n}):G({from:o,amount:a,player:n}),{marble:r,type:s,from:o,to:t}}function V(e){return W.apply(this,arguments)}function W(){return W=Object(C["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){setTimeout(function(){e()},t)}));case 1:case"end":return e.stop()}},e)})),W.apply(this,arguments)}function Y(e,t){var n=ce.getters["steps/sideEndpoints"](t);return n.some(function(t){return L(e,$(t))})}function X(e){var t=$(ce.getters["steps/finalStep"]);return L(e,t)}function K(e,t){return Q.apply(this,arguments)}function Q(){return Q=Object(C["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=Y(Z(t),n),e.next=3,ce.dispatch("marbles/update",Object(E["a"])({},t,{isAtEnd:r}));case 3:case"end":return e.stop()}},e)})),Q.apply(this,arguments)}function U(e,t){return ee.apply(this,arguments)}function ee(){return ee=Object(C["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=X(Z(t)),e.next=3,ce.dispatch("marbles/update",Object(E["a"])({},t,{isAtFinal:r}));case 3:case"end":return e.stop()}},e)})),ee.apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return ne=Object(C["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),ne.apply(this,arguments)}function re(e,t){return ie.apply(this,arguments)}function ie(){return ie=Object(C["a"])(regeneratorRuntime.mark(function e(t,n){var i,a,s,o,c,u,l,d,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:i=ce.getters["marbles/listOtherPlayersMarblesByPosition"](n,Z(t)),a=i.filter(function(e){var t=q(e),n=!t.includes(r.SAFEZONE);return n}),s=ce.getters["marbles/listInitial"],o=!0,c=!1,u=void 0,e.prev=6,l=regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=f.value,n=s.find(function(e){return t.id===e.id}),e.next=4,ce.dispatch("marbles/update",n);case 4:case"end":return e.stop()}},e)}),d=a[Symbol.iterator]();case 9:if(o=(f=d.next()).done){e.next=14;break}return e.delegateYield(l(),"t0",11);case 11:o=!0,e.next=9;break;case 14:e.next=20;break;case 16:e.prev=16,e.t1=e["catch"](6),c=!0,u=e.t1;case 20:e.prev=20,e.prev=21,o||null==d.return||d.return();case 23:if(e.prev=23,!c){e.next=26;break}throw u;case 26:return e.finish(23);case 27:return e.finish(20);case 28:case"end":return e.stop()}},e,null,[[6,16,20,28],[21,,23,27]])})),ie.apply(this,arguments)}var ae=[{id:1,row:4,column:5,side:1,isInGame:!0,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1,countOnPlace:1},{id:2,row:5,column:5,side:1,isInGame:!0,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1,countOnPlace:1},{id:3,row:10,column:1,side:1,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1,countOnPlace:1},{id:4,row:10,column:2,side:1,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1,countOnPlace:1},{id:5,row:2,column:5,side:2,isInGame:!0,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1,countOnPlace:1},{id:6,row:1,column:5,side:2,isInGame:!0,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1,countOnPlace:1},{id:7,row:2,column:1,side:2,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1,countOnPlace:1},{id:8,row:2,column:2,side:2,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1,countOnPlace:1},{id:9,row:1,column:10,side:3,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1,countOnPlace:1},{id:10,row:1,column:11,side:3,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1,countOnPlace:1},{id:11,row:2,column:10,side:3,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1,countOnPlace:1},{id:12,row:2,column:11,side:3,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1,countOnPlace:1},{id:13,row:10,column:10,side:4,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1,countOnPlace:1},{id:14,row:10,column:11,side:4,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1,countOnPlace:1},{id:15,row:11,column:10,side:4,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1,countOnPlace:1},{id:16,row:11,column:11,side:4,isInGame:!1,isAtEnd:!1,isAtFinal:!1,isMoveable:!1,isMoving:!1,countOnPlace:1}],se={namespaced:!0,state:{list:[],listInitial:ae},mutations:{update:function(e,t){var n=e.list.findIndex(function(e){return e.id===t.id});s["a"].set(e.list,n,t)},reset:function(e){e.list=[].concat(ae)},setItemMoveable:function(e,t){var n=e.list.find(function(e){return e.id===t.id});n.isMoveable=!0}},actions:{update:function(e,t){var n=e.commit;n("update",t)},reset:function(e){var t=e.commit;t("reset")},setMoveableItems:function(e){var t=e.commit,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.forEach(function(e){return t("update",Object(E["a"])({},e,{isMoveable:!0}))})},unsetMoveableAll:function(e){var t=e.commit,n=e.getters;n.list.forEach(function(e){return t("update",Object(E["a"])({},e,{isMoveable:!1}))})}},getters:{list:function(e){return e.list},listByPlayer:function(e,t){return function(e){return t.list.filter(function(t){return t.side===e.side})}},listInGame:function(e,t){return t.list.filter(function(e){return!0===e.isInGame})},listInBench:function(e,t){return t.list.filter(function(e){return!1===e.isInGame})},listInGameByPlayer:function(e,t){return function(e){return t.list.filter(function(t){return t.side===e.side&&!0===t.isInGame})}},listInBenchByPlayer:function(e,t){return function(e){return t.list.filter(function(t){return t.side===e.side&&!1===t.isInGame})}},listOtherPlayersMarblesByPosition:function(e,t){return function(e,n){return t.list.filter(function(t){return t.side!==e.side&&L(Z(t),n)})}},listInitial:function(e){return e.listInitial},isGameFinishedForPlayer:function(e,t){return function(e){var n=t.listByPlayer(e);return n.every(function(e){return e.isAtFinal})}}}};s["a"].use(x["a"]);var oe=new x["a"].Store({state:{diceResult:null,gameStatus:null},mutations:{updateDice:function(e,t){e.diceResult=t}},actions:{updateDice:function(e,t){var n=e.commit;n("updateDice",t)}},modules:{steps:S,players:R,marbles:se},getters:{diceResult:function(e){return e.diceResult}}}),ce=oe,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"grid"},[e._l(e.steps,function(e){return[n("Step",{key:e[0]+"-"+e[1]+"-"+e[2],style:{"grid-row-start":e[0],"grid-column-start":e[1]},attrs:{types:e[3],row:e[0],column:e[1]}})]})],2)])},le=[],de=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"d-flex step justify-content-center align-content-center font-size-sm"})},fe=[],pe=(n("c5f6"),n("60a3")),me=function(e){function t(){return Object(A["a"])(this,t),Object(w["a"])(this,Object(P["a"])(t).apply(this,arguments))}return Object(I["a"])(t,e),t}(pe["c"]);k["a"]([Object(pe["b"])({type:Number,required:!0})],me.prototype,"row",void 0),k["a"]([Object(pe["b"])({type:Number,required:!0})],me.prototype,"column",void 0),k["a"]([Object(pe["b"])({type:Array,required:!0})],me.prototype,"types",void 0),me=k["a"]([pe["a"]],me);var ve=me,be=ve,Oe=(n("8fb8"),Object(d["a"])(be,de,fe,!1,null,"30a5d905",null)),he=Oe.exports,ye=function(e){function t(){return Object(A["a"])(this,t),Object(w["a"])(this,Object(P["a"])(t).apply(this,arguments))}return Object(I["a"])(t,e),Object(j["a"])(t,[{key:"data",value:function(){return{steps:ce.getters["steps/allSteps"]}}}]),t}(pe["c"]);ye=k["a"]([Object(pe["a"])({components:{Step:he}})],ye);var Me=ye,ge=Me,Ne=(n("6dae"),Object(d["a"])(ge,ue,le,!1,null,"ab1fdebe",null)),Ce=Ne.exports,Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"marbles"},e._l(e.list,function(t){return n("Marble",{key:t.id,attrs:{model:t},on:{clickmarble:e.onClickMarble}})}),1)},Ae=[],je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"marble-w",class:[{moveable:e.model.isMoveable},"is-side-"+e.model.side],style:e.getWrapperStyle(),on:{click:e.onClickMarble}},[n("span",{staticClass:"marble d-block",class:e.getMarbleClasses(),style:e.getMarbleStyle()})])},we=[],Pe=n("bd86"),Ie=40,ke=function(e){function t(){return Object(A["a"])(this,t),Object(w["a"])(this,Object(P["a"])(t).apply(this,arguments))}return Object(I["a"])(t,e),Object(j["a"])(t,[{key:"getWrapperStyle",value:function(){return{transform:"\n        translateX(".concat((this.model.column-1)*(Ie+4)+"px",")\n        translateY(").concat((this.model.row-1)*(Ie+4)+"px",")\n        ")}}},{key:"getMarbleClasses",value:function(){var e,t=this.model,n=t.isMoving,r=t.countOnPlace;return n?[]:[(e={},Object(Pe["a"])(e,"multiple-".concat(r),r>1),Object(Pe["a"])(e,"multiple",r>1),e)]}},{key:"getMarbleStyle",value:function(){var e={},t=this.model.countOnPlace||1,n=this.model.side;return t>=2&&(1===n?(e.left=0,e.bottom=0):2===n?(e.left=0,e.top=0):3===n?(e.right=0,e.top=0):4===n&&(e.right=0,e.bottom=0)),e}},{key:"onClickMarble",value:function(){this.$emit("clickmarble",this.model)}}]),t}(pe["c"]);k["a"]([Object(pe["b"])({type:Object})],ke.prototype,"model",void 0),ke=k["a"]([pe["a"]],ke);var xe=ke,Te=xe,Se=(n("c2ed"),Object(d["a"])(Te,je,we,!1,null,"79262770",null)),Re=Se.exports,Be=function(e){function t(){return Object(A["a"])(this,t),Object(w["a"])(this,Object(P["a"])(t).apply(this,arguments))}return Object(I["a"])(t,e),Object(j["a"])(t,[{key:"removeSamePlaceMarbles",value:function(e){var t=e.map(function(t){var n=1;return t.isInGame?(e.forEach(function(e){var r=t.id===e.id;if(!r){var i=L(Z(t),Z(e));i&&n++}}),t.countOnPlace=n,t):(t.countOnPlace=n,t)});return t}},{key:"onClickMarble",value:function(e){this.$emit("clickmarble",e)}},{key:"list",get:function(){var e=ce.getters["marbles/list"];return e=this.removeSamePlaceMarbles(e),e}}]),t}(pe["c"]);Be=k["a"]([Object(pe["a"])({components:{Marble:Re}})],Be);var Ge=Be,_e=Ge,Fe=(n("6279"),Object(d["a"])(_e,Ee,Ae,!1,null,"25cb3e36",null)),He=Fe.exports,De=n("768b");function Le(e){var t=6===e;return{value:e,canMoveBench:t,hasReward:t}}var $e=1e3,Ze=2e3;function qe(e){var t=e.player,n=e.diceResult,r=[],i=Le(n);return r.push.apply(r,Object(T["a"])(Je(i,t))),r.push.apply(r,Object(T["a"])(Ve(i,t))),r}function ze(e){return e[0]}function Je(e,t){var n=[],r=ce.getters["marbles/listInBenchByPlayer"](t),a=r.length>0;if(!a)return n;if(e.canMoveBench){var s=ce.getters["steps/sideStartpoint"](t);r.forEach(function(e){var t={from:Z(e),to:$(s),type:i.BENCH,marble:e};n.push(t)})}return n}function Ve(e,t){var n=[],r=ce.getters["marbles/listInGameByPlayer"](t);return r.forEach(function(r){var a=Z(r),s=$(ce.getters["steps/finalStep"]),o=B(a,s,t);if(e.value<=o){var c={from:a,to:G({from:a,amount:e.value,player:t}),type:i.IN_GAME,marble:r};n.push(c)}}),n}function We(e){var t=e.filter(function(e){return e.type===i.BENCH}).length,n=e.filter(function(e){return e.type===i.IN_GAME}).length,r=n+(t>0?1:0);return r>1}function Ye(e,t){return e.side===t.side&&!0===e.isMoveable}function Xe(e){return Ke.apply(this,arguments)}function Ke(){return Ke=Object(C["a"])(regeneratorRuntime.mark(function e(t){var n,r,i,a,s,o,c,u,l,d,f,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=Object(E["a"])({},t.marble,{isInGame:!0,row:t.to.row,column:t.to.column,isMoving:!1,isMoveable:!1}),r=_(t),i=!0,a=!1,s=void 0,e.prev=5,o=r.entries()[Symbol.iterator]();case 7:if(i=(c=o.next()).done){e.next=18;break}return u=Object(De["a"])(c.value,2),l=u[0],d=u[1],f=Object(E["a"])({},t.marble,{isInGame:!0,row:d[0],column:d[1],isMoving:!0,isMoveable:!1}),e.next=12,ce.dispatch("marbles/update",f);case 12:if(!(l<=r.length-2)){e.next=15;break}return e.next=15,V($e);case 15:i=!0,e.next=7;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e["catch"](5),a=!0,s=e.t0;case 24:e.prev=24,e.prev=25,i||null==o.return||o.return();case 27:if(e.prev=27,!a){e.next=30;break}throw s;case 30:return e.finish(27);case 31:return e.finish(24);case 32:return e.next=34,ce.dispatch("marbles/update",n);case 34:return p=Object(E["a"])({},t,{marble:n}),e.abrupt("return",p);case 36:case"end":return e.stop()}},e,null,[[5,20,24,32],[25,,27,31]])})),Ke.apply(this,arguments)}function Qe(e,t){return Ue.apply(this,arguments)}function Ue(){return Ue=Object(C["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K(t.marble,n);case 2:return e.next=4,U(t.marble,n);case 4:return e.next=6,te(n);case 6:return e.next=8,re(t.marble,n);case 8:case"end":return e.stop()}},e)})),Ue.apply(this,arguments)}var et=function(e){function t(){return Object(A["a"])(this,t),Object(w["a"])(this,Object(P["a"])(t).apply(this,arguments))}return Object(I["a"])(t,e),Object(j["a"])(t,[{key:"mounted",value:function(){this.startGame()}},{key:"startGame",value:function(){this.resetGame(),this.addPlayers(),this.playTurn()}},{key:"resetGame",value:function(){ce.dispatch("marbles/reset"),ce.dispatch("players/reset")}},{key:"addPlayers",value:function(){ce.dispatch("players/add",{isAI:!1,color:"red",isActive:!0}),ce.dispatch("players/add",{isAI:!0,color:"green",isActive:!1}),ce.dispatch("players/add",{isAI:!0,color:"blue",isActive:!1}),ce.dispatch("players/add",{isAI:!0,color:"yellow",isActive:!1}),ce.dispatch("players/updateAll",{isInGame:!0})}},{key:"changeTurn",value:function(){var e=this,t=this.allPlayers.findIndex(function(t){return t.id===e.activePlayer.id}),n=this.allPlayers[t],r=(t+1)%this.allPlayers.length,i=this.allPlayers[r];ce.dispatch("players/update",Object(E["a"])({},n,{isActive:!1})),ce.dispatch("players/update",Object(E["a"])({},i,{isActive:!0}))}},{key:"shouldChangeTurn",value:function(){return!this.diceAnalization.hasReward}},{key:"setActivePlayer",value:function(e){ce.dispatch("players/updatePlayer",Object(E["a"])({},e,{isActive:!0}))}},{key:"playTurn",value:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("-------------------------------------------------- play turn"),this.unsetMoveableMarbles(),!this.isGameOver){e.next=5;break}return console.log("Game is over"),e.abrupt("return");case 5:return this.shouldChangeTurn()&&this.changeTurn(),this.turnDice(),e.next=9,this.sleepBetweenTurns();case 9:if(!this.activePlayer.isAI){e.next=14;break}return e.next=12,this.performActionsOfPlayerAI();case 12:e.next=15;break;case 14:this.performActionsOfPlayerNoAI();case 15:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"sleepBetweenTurns",value:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,V(Ze);case 2:case"end":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:"performActionsOfPlayerAI",value:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.getAvailableActions(),0!==t.length){e.next=6;break}console.log("---- no action ----"),this.playTurn(),e.next=11;break;case 6:if(!this.shouldAutoMove(t)){e.next=11;break}return console.log("auto move"),e.next=10,this.autoMove(t);case 10:this.playTurn();case 11:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"performActionsOfPlayerNoAI",value:function(){var e=this.getAvailableActions();console.log("Human move (wait or skip)"),e.length>0?this.setMoveableMarbles(e):this.playTurn()}},{key:"onClickMarble",value:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(Ye(t,this.activePlayer)){e.next=2;break}return e.abrupt("return");case 2:return n=J({player:this.activePlayer,marble:t,diceResult:this.diceResult}),e.next=5,this.move(n);case 5:return r=e.sent,e.next=8,Qe(r,this.activePlayer);case 8:this.playTurn();case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"setMoveableMarbles",value:function(e){var t=e.map(function(e){return e.marble});ce.dispatch("marbles/setMoveableItems",t)}},{key:"unsetMoveableMarbles",value:function(){this.activePlayer.isAI||ce.dispatch("marbles/unsetMoveableAll")}},{key:"shouldAutoMove",value:function(e){return this.activePlayer.isAI||!We(e)}},{key:"autoMove",value:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=ze(t),e.next=3,this.move(n);case 3:return r=e.sent,e.next=6,Qe(r,this.activePlayer);case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"move",value:function(){var e=Object(C["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Xe(t);case 2:return n=e.sent,console.log("* move done *",t),e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAvailableActions",value:function(){return qe({player:this.activePlayer,diceResult:this.diceResult})}},{key:"turnDice",value:function(){var e=Math.ceil(6*D());ce.dispatch("updateDice",e),console.log("dice:",e,"player:",this.activePlayer.id)}},{key:"playersInGame",get:function(){return ce.getters["players/listInGame"]}},{key:"allPlayers",get:function(){return ce.getters["players/list"]}},{key:"activePlayer",get:function(){return ce.getters["players/active"]||{}}},{key:"diceResult",get:function(){return ce.getters["diceResult"]}},{key:"diceAnalization",get:function(){return Le(this.diceResult)}},{key:"isGameOver",get:function(){return ce.getters["marbles/isGameFinishedForPlayer"](this.activePlayer)}}]),t}(pe["c"]);et=k["a"]([Object(pe["a"])({components:{Road:Ce,Marbles:He}})],et);var tt=et,nt=tt,rt=(n("a3cb"),Object(d["a"])(nt,g,N,!1,null,null,null)),it=rt.exports,at={name:"page-home",components:{Board:it}},st=at,ot=Object(d["a"])(st,y,M,!1,null,null,null),ct=ot.exports;s["a"].use(h["a"]);var ut=new h["a"]({routes:[{path:"/",name:"home",component:ct},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]}),lt=n("9483");Object(lt["a"])("".concat("/ludo/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),s["a"].config.productionTip=!1,new s["a"]({router:ut,store:ce,render:function(e){return e(O)}}).$mount("#app")},e735:function(e,t,n){},ead2:function(e,t,n){}});
//# sourceMappingURL=app.f65a0787.js.map